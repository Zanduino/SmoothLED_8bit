<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SmoothLED: src/SmoothLED.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SmoothLED
   &#160;<span id="projectnumber">v1.0.0</span>
   </div>
   <div id="projectbrief">Zanduino Arduino Library for controlling 8-bit PWM on any pin</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_smooth_l_e_d_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SmoothLED.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;WProgram.h&gt;</code><br />
</div>
<p><a href="_smooth_l_e_d_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structset_structure.html">setStructure</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to allow any Arduino pins to be used with 10-bit PWM.  <a href="classsmooth_l_e_d.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a990bd7bc2f36f3e5444e9cad0095f428"><td class="memItemLeft" align="right" valign="top"><a id="a990bd7bc2f36f3e5444e9cad0095f428"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#a990bd7bc2f36f3e5444e9cad0095f428">CIE_MODE_ACTIVE</a></td></tr>
<tr class="memdesc:a990bd7bc2f36f3e5444e9cad0095f428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the CIE 1931 mode to be active. <br /></td></tr>
<tr class="separator:a990bd7bc2f36f3e5444e9cad0095f428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11643f271076024c395a93800b3d9546"><td class="memItemLeft" align="right" valign="top"><a id="a11643f271076024c395a93800b3d9546"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#a11643f271076024c395a93800b3d9546">_BV</a>(bit)&#160;&#160;&#160;(1 &lt;&lt; (bit))</td></tr>
<tr class="memdesc:a11643f271076024c395a93800b3d9546"><td class="mdescLeft">&#160;</td><td class="mdescRight">bit shift macro <br /></td></tr>
<tr class="separator:a11643f271076024c395a93800b3d9546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70baf5399951da1e7ad45a0ed890832"><td class="memItemLeft" align="right" valign="top"><a id="ae70baf5399951da1e7ad45a0ed890832"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#ae70baf5399951da1e7ad45a0ed890832">cbi</a>(sfr,  bit)&#160;&#160;&#160;(_SFR_BYTE(sfr) &amp;= ~<a class="el" href="_smooth_l_e_d_8h.html#a11643f271076024c395a93800b3d9546">_BV</a>(bit))</td></tr>
<tr class="memdesc:ae70baf5399951da1e7ad45a0ed890832"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear bit macro <br /></td></tr>
<tr class="separator:ae70baf5399951da1e7ad45a0ed890832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a5536d9bf092116f88b94797ddc882"><td class="memItemLeft" align="right" valign="top"><a id="ac4a5536d9bf092116f88b94797ddc882"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#ac4a5536d9bf092116f88b94797ddc882">sbi</a>(sfr,  bit)&#160;&#160;&#160;(_SFR_BYTE(sfr) |= <a class="el" href="_smooth_l_e_d_8h.html#a11643f271076024c395a93800b3d9546">_BV</a>(bit))</td></tr>
<tr class="memdesc:ac4a5536d9bf092116f88b94797ddc882"><td class="mdescLeft">&#160;</td><td class="mdescRight">set bit macro <br /></td></tr>
<tr class="separator:ac4a5536d9bf092116f88b94797ddc882"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5aa0826cd927b01f620c75e37a2c4097"><td class="memItemLeft" align="right" valign="top">const PROGMEM uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#a5aa0826cd927b01f620c75e37a2c4097">kcie</a> []</td></tr>
<tr class="memdesc:a5aa0826cd927b01f620c75e37a2c4097"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear PWM brightness progression table using CIE brightness levels.  <a href="#a5aa0826cd927b01f620c75e37a2c4097">More...</a><br /></td></tr>
<tr class="separator:a5aa0826cd927b01f620c75e37a2c4097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05385c53e5ba569932ee2266318a668c"><td class="memItemLeft" align="right" valign="top"><a id="a05385c53e5ba569932ee2266318a668c"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#a05385c53e5ba569932ee2266318a668c">NO_INVERT_LED</a> {0}</td></tr>
<tr class="memdesc:a05385c53e5ba569932ee2266318a668c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default. When value is 0 it means off. <br /></td></tr>
<tr class="separator:a05385c53e5ba569932ee2266318a668c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b617b9c317066651a4393a45057399"><td class="memItemLeft" align="right" valign="top"><a id="ad9b617b9c317066651a4393a45057399"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#ad9b617b9c317066651a4393a45057399">INVERT_LED</a> {1}</td></tr>
<tr class="memdesc:ad9b617b9c317066651a4393a45057399"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Value of 0 denotes 100% duty cycle when set. <br /></td></tr>
<tr class="separator:ad9b617b9c317066651a4393a45057399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4dcb052caddd05c22dfc9fdcb9c8202"><td class="memItemLeft" align="right" valign="top"><a id="ad4dcb052caddd05c22dfc9fdcb9c8202"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#ad4dcb052caddd05c22dfc9fdcb9c8202">CIE_MODE</a> {0}</td></tr>
<tr class="memdesc:ad4dcb052caddd05c22dfc9fdcb9c8202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default. Interpolate brightness using CIE table. <br /></td></tr>
<tr class="separator:ad4dcb052caddd05c22dfc9fdcb9c8202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6409d8f19b772b35d9d21f023e64e350"><td class="memItemLeft" align="right" valign="top"><a id="a6409d8f19b772b35d9d21f023e64e350"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#a6409d8f19b772b35d9d21f023e64e350">NO_CIE_MODE</a> {2}</td></tr>
<tr class="memdesc:a6409d8f19b772b35d9d21f023e64e350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the PWM value directly, do not interpolate values. <br /></td></tr>
<tr class="separator:a6409d8f19b772b35d9d21f023e64e350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa453b41dda7f1d81da7e87990e05551"><td class="memItemLeft" align="right" valign="top"><a id="afa453b41dda7f1d81da7e87990e05551"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#afa453b41dda7f1d81da7e87990e05551">HARDWARE_MODE</a> {0}</td></tr>
<tr class="memdesc:afa453b41dda7f1d81da7e87990e05551"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default. Use hardware PWM where possible. <br /></td></tr>
<tr class="separator:afa453b41dda7f1d81da7e87990e05551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b7d16acf65af8915da17c619ca90cb"><td class="memItemLeft" align="right" valign="top"><a id="a81b7d16acf65af8915da17c619ca90cb"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_smooth_l_e_d_8h.html#a81b7d16acf65af8915da17c619ca90cb">SOFTWARE_MODE</a> {4}</td></tr>
<tr class="memdesc:a81b7d16acf65af8915da17c619ca90cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use software PWM even on Hardware PWM pins. <br /></td></tr>
<tr class="separator:a81b7d16acf65af8915da17c619ca90cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5aa0826cd927b01f620c75e37a2c4097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa0826cd927b01f620c75e37a2c4097">&#9670;&nbsp;</a></span>kcie</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const PROGMEM uint8_t kcie[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    0,   0,   0,   0,   0,   1,   1,   1,   1,   1,   1,   1,   1,   1,   2,   2,   2,   2,   2,</div><div class="line">    2,   2,   2,   2,   2,   2,   3,   3,   3,   3,   3,   3,   3,   4,   4,   4,   4,   4,   4,</div><div class="line">    4,   5,   5,   5,   5,   5,   6,   6,   6,   6,   6,   7,   7,   7,   7,   8,   8,   8,   8,</div><div class="line">    9,   9,   9,   9,   10,  10,  10,  11,  11,  11,  11,  12,  12,  12,  13,  13,  13,  14,  14,</div><div class="line">    15,  15,  15,  16,  16,  16,  17,  17,  18,  18,  19,  19,  19,  20,  20,  21,  21,  22,  22,</div><div class="line">    23,  23,  24,  24,  25,  25,  26,  27,  27,  28,  28,  29,  29,  30,  31,  31,  32,  33,  33,</div><div class="line">    34,  35,  35,  36,  37,  37,  38,  39,  39,  40,  41,  42,  42,  43,  44,  45,  45,  46,  47,</div><div class="line">    48,  49,  50,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,  59,  60,  61,  62,  63,  64,</div><div class="line">    65,  66,  67,  69,  70,  71,  72,  73,  74,  75,  76,  77,  78,  80,  81,  82,  83,  84,  85,</div><div class="line">    87,  88,  89,  90,  92,  93,  94,  96,  97,  98,  100, 101, 102, 104, 105, 106, 108, 109, 111,</div><div class="line">    112, 114, 115, 117, 118, 120, 121, 123, 124, 126, 127, 129, 131, 132, 134, 136, 137, 139, 141,</div><div class="line">    142, 144, 146, 147, 149, 151, 153, 155, 156, 158, 160, 162, 164, 166, 168, 169, 171, 173, 175,</div><div class="line">    177, 179, 181, 183, 185, 187, 189, 191, 194, 196, 198, 200, 202, 204, 206, 209, 211, 213, 215,</div><div class="line">    218, 220, 222, 224, 227, 229, 231, 234, 236}</div></div><!-- fragment -->
<p>Linear PWM brightness progression table using CIE brightness levels. </p>
<p>CIE 1931 color space and PWM. Fading a LED with PWM from 255 to 0 linearly will not result in a visually linear fade due to the way our eyes work. Setting PWM to half strength (50% duty cycle) actually looks much brighter than it should. The formula for lightness uses floating point and cubes so is not fast enough for an Arduino to compute on the fly at runtime. Hence a table is used for the lookup, but this comes at a price of 256Bytes of memory which is a pretty significant amount of memory for a small micro- processor. CIE mode is turned on by default in this library, but if the following "#define CIE_MODE" is commented out the library will shrink by over 2kB in size and the dimming / fading will no longer have CIE adjustments applied. The kcie table was generated using a program written by Jared Sanson and explained on <a href="https://jared.geek.nz/2013/feb/linear-led-pwm">https://jared.geek.nz/2013/feb/linear-led-pwm</a>. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_smooth_l_e_d_8h.html">SmoothLED.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
